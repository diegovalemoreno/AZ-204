4. [Secure your Azure SQL Database](https://docs.microsoft.com/en-us/learn/modules/secure-your-azure-sql-database/)
    
    **Firewall rules**<br/>
    Azure SQL Database has a built-in firewall that is used to allow and deny network access to both the database server itself, as well as individual databases. Initially, all public access to your Azure SQL Database is blocked by the SQL Database firewall.<br/>
    Firewall rules are configured at the server and/or database level, and will specifically state which network resources are allowed to establish a connection to the database. Depending on the level, the rules you can apply will be as follows:
    - Server-level firewall rules
        - Allow access to Azure services - allows services within Azure to connect to your Azure SQL Database. When enabled, this setting allows communications from all Azure public IP addresses. This includes all Azure Platform as a Service (PaaS) services, such as Azure App Service and Azure Container Service, as well as Azure VMs that have outbound Internet access. This rule can be configured through the ON/OFF option in the firewall pane in the portal, or by an IP rule that has 0.0.0.0 as the start and end IP addresses.<br/>
        This rule is used when you have applications running on PaaS services in Azure, such as Azure Logic Apps or Azure Functions, that need to access your Azure SQL Database. Many of these services don't have a static IP address, so this rule is needed to ensure they are able to connect to the database.<br/>
        ![](https://docs.microsoft.com/en-gb/learn/modules/secure-your-azure-sql-database/media/2-allow-azure-services.png)<br/>
        - IP address rules - are rules that are based on specific public IP address ranges. IP addresses connecting from an allowed public IP range will be permitted to connect to the database.<br/>
        ![](https://docs.microsoft.com/en-gb/learn/modules/secure-your-azure-sql-database/media/2-server-ip-rule-1.png)<br/>
        - Virtual network rules - allow you to explicitly allow connection from specified subnets inside one or more Azure virtual networks (VNets). Virtual network rules can provide greater access control to your databases and can be a preferred option depending on your scenario. Since Azure VNet address spaces are private, you can effectively eliminate exposure to public IP addresses and secure connectivity to those addresses you control.<br/>
        ![](https://docs.microsoft.com/en-gb/learn/modules/secure-your-azure-sql-database/media/2-vnet-rule.png)<br/>
    - Database-level firewall rules
        - IP address rules - These rules allow access to an individual database on a logical server and are stored in the database itself. For database-level rules, only IP address rules can be configured. They function the same as when applied at the server-level, but are scoped to the database only.
        ![](https://docs.microsoft.com/en-gb/learn/modules/secure-your-azure-sql-database/media/2-db-ip-rule-1.png)<br/>
        The benefits of database-level rules are their portability. When replicating a database to another server, the database-level rules will be replicated, since they are stored in the database itself.<br/>
        The downside to database-level rules is that you can only use IP address rules. This may limit the flexibility you have and can increase administrative overhead.
        
    [**Exercise - Restrict network access**](https://docs.microsoft.com/en-gb/learn/modules/secure-your-azure-sql-database/2-restrict-network-access)
    
    
    **TLS network encryption**<br/>
    Azure SQL Database enforces Transport Layer Security (TLS) encryption at all times for all connections, which ensures all data is encrypted "in transit" between the database and the client.
    
    [**Exercise - Secure your data in transit, at rest, and on display**](https://docs.microsoft.com/en-gb/learn/modules/secure-your-azure-sql-database/4-data-security)
